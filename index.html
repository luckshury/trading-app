<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="theme-color" content="#ffffff">
    <title>Trading App</title>
    <link rel="manifest" href="manifest.json">
    <!-- Highcharts Stock -->
    <script src="https://code.highcharts.com/stock/highstock.js"></script>
    <script src="https://code.highcharts.com/stock/modules/data.js"></script>
    <script src="https://code.highcharts.com/stock/modules/exporting.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        :root {
            --green: #00D632;
            --green-dark: #00B82B;
            --blue: #0A84FF;
            --blue-card: #2196F3;
            --bg: #F2F2F7;
            --card-bg: #FFFFFF;
            --text-primary: #000000;
            --text-secondary: #8E8E93;
            --safe-top: env(safe-area-inset-top, 0px);
            --safe-bottom: env(safe-area-inset-bottom, 0px);
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
            background: var(--bg);
            color: var(--text-primary);
            min-height: 100vh;
            min-height: 100dvh;
            overflow-x: hidden;
        }
        
        /* All devices: consistent website feel */
        body {
            padding-bottom: 80px;
        }
        
        .app-container {
            background: var(--bg);
            min-height: 100vh;
            min-height: 100dvh;
            max-width: 1400px;
            margin: 0 auto;
            padding: 24px 16px;
        }
        
        /* Status bar spacer - hidden, not needed for web */
        .status-bar {
            display: none;
        }
        
        /* ========== HEADER (All devices) ========== */
        .desktop-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 16px;
            background: var(--card-bg);
            border-bottom: 1px solid rgba(0,0,0,0.08);
            position: sticky;
            top: 0;
            z-index: 100;
            gap: 12px;
            flex-wrap: wrap;
        }
        
        .logo {
            font-size: 20px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .logo-icon {
            width: 32px;
            height: 32px;
            background: var(--green);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }
        
        .desktop-nav {
            display: flex;
            gap: 6px;
            overflow-x: auto;
            flex: 1;
            justify-content: center;
        }
        
        .header-actions {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .header-search {
            display: none;
        }
        
        .header-btn {
            padding: 10px 16px;
            background: var(--text-primary);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            white-space: nowrap;
        }
        
        .header-btn:hover {
            background: #333;
        }
        
        .user-avatar {
            width: 36px;
            height: 36px;
            background: var(--bg);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            flex-shrink: 0;
        }
        
        /* Hide mobile-only elements */
        .top-nav,
        .search-section {
            display: none;
        }
        
        /* ========== TOP NAVIGATION ========== */
        .top-nav {
            display: flex;
            gap: 8px;
            padding: 12px 16px;
            background: var(--card-bg);
            overflow-x: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .top-nav::-webkit-scrollbar {
            display: none;
        }
        
        .nav-pill {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 10px 16px;
            border-radius: 20px;
            background: var(--bg);
            white-space: nowrap;
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
            position: relative;
        }
        
        .nav-pill.active {
            background: var(--text-primary);
            color: white;
        }
        
        .nav-pill:hover {
            transform: translateY(-1px);
        }
        
        .nav-pill:active {
            transform: scale(0.95);
        }
        
        .nav-pill .icon {
            font-size: 18px;
        }
        
        .nav-pill .badge {
            position: absolute;
            top: 2px;
            right: 8px;
            background: #FF2D55;
            color: white;
            font-size: 9px;
            padding: 2px 5px;
            border-radius: 6px;
            font-weight: 600;
        }
        
        /* ========== SEARCH SECTION ========== */
        .search-section {
            display: flex;
            gap: 12px;
            padding: 12px 16px;
            background: var(--card-bg);
        }
        
        .search-bar {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 16px;
            background: var(--bg);
            border-radius: 12px;
            color: var(--text-secondary);
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
        }
        
        .search-bar:hover {
            background: #E5E5EA;
        }
        
        .add-cash-btn {
            padding: 12px 20px;
            background: var(--text-primary);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .add-cash-btn:hover {
            background: #333;
            transform: translateY(-1px);
        }
        
        .add-cash-btn:active {
            transform: scale(0.95);
        }
        
        /* ========== MAIN CONTENT ========== */
        .main-content {
            padding: 0 16px;
        }
        
        /* ========== BALANCE SECTION ========== */
        .balance-section {
            padding: 20px 0;
        }
        
        .balance-label {
            color: var(--text-secondary);
            font-size: 15px;
            margin-bottom: 4px;
        }
        
        .balance-amount {
            font-size: 42px;
            font-weight: 700;
            letter-spacing: -1px;
            display: flex;
            align-items: baseline;
        }
        
        .balance-amount .decimal {
            font-size: 32px;
        }
        
        .balance-change {
            display: flex;
            align-items: center;
            gap: 6px;
            margin-top: 4px;
            font-size: 15px;
        }
        
        .balance-change .percent {
            color: var(--green);
            font-weight: 600;
        }
        
        .balance-change .period {
            color: var(--text-secondary);
        }
        
        /* ========== CHART ========== */
        .chart-container {
            background: var(--card-bg);
            border-radius: 16px;
            height: 300px;
            position: relative;
            overflow: hidden;
            margin-bottom: 16px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.04);
        }
        
        /* Highcharts custom styling */
        .highcharts-background {
            fill: transparent;
        }
        
        .highcharts-range-selector-group {
            display: none;
        }
        
        /* ========== TIME FILTERS ========== */
        .time-filters {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-bottom: 24px;
        }
        
        .time-btn {
            padding: 8px 16px;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            font-size: 15px;
            font-weight: 500;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .time-btn.active {
            background: var(--card-bg);
            color: var(--text-primary);
        }
        
        .time-btn:hover {
            background: var(--card-bg);
        }
        
        .time-btn:active {
            transform: scale(0.95);
        }
        
        /* ========== CARDS GRID ========== */
        .cards-grid {
            display: grid;
            gap: 16px;
            margin-bottom: 24px;
        }
        
        /* ========== CASH CARD ========== */
        .cash-card {
            background: linear-gradient(135deg, #42A5F5 0%, #1E88E5 100%);
            border-radius: 20px;
            padding: 20px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .cash-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
        }
        
        .cash-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(33, 150, 243, 0.3);
        }
        
        .cash-card:active {
            transform: scale(0.98);
        }
        
        .cash-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .cash-card-title {
            font-size: 18px;
            font-weight: 600;
        }
        
        .cash-card-arrow {
            font-size: 20px;
            opacity: 0.8;
        }
        
        .cash-card-amount {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 16px;
        }
        
        .cash-card-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 16px;
            border-top: 1px solid rgba(255,255,255,0.2);
        }
        
        .perps-label {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 15px;
            opacity: 0.9;
        }
        
        .perps-amount {
            font-size: 15px;
            font-weight: 600;
        }
        
        /* ========== BOTTOM NAVIGATION ========== */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--card-bg);
            border-top: 1px solid rgba(0,0,0,0.1);
            display: flex;
            justify-content: center;
            gap: 8px;
            padding: 12px 16px;
            z-index: 100;
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 10px 16px;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            background: var(--bg);
            border-radius: 12px;
            font-size: 14px;
            font-weight: 500;
        }
        
        .nav-item:hover {
            background: #E5E5EA;
        }
        
        .nav-item:active {
            transform: scale(0.95);
        }
        
        .nav-item .nav-icon {
            width: 20px;
            height: 20px;
            color: var(--text-secondary);
            transition: all 0.2s;
        }
        
        .nav-item.active {
            background: var(--text-primary);
            color: white;
        }
        
        .nav-item.active .nav-icon {
            color: white;
        }
        
        .nav-item .nav-label {
            font-size: 14px;
            color: var(--text-secondary);
            font-weight: 500;
        }
        
        .nav-item.active .nav-label {
            color: white;
        }
        
        .nav-icon-wrapper {
            display: flex;
            align-items: center;
        }
        
        .nav-dot {
            display: none;
        }
        
        /* ========== ANIMATIONS ========== */
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .animate-in {
            animation: slideUp 0.5s ease forwards;
        }
        
        .delay-1 { animation-delay: 0.1s; opacity: 0; }
        .delay-2 { animation-delay: 0.2s; opacity: 0; }
        .delay-3 { animation-delay: 0.3s; opacity: 0; }
        .delay-4 { animation-delay: 0.4s; opacity: 0; }
        
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        
        .shimmer::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(255,255,255,0.15) 50%, 
                transparent 100%);
            background-size: 200% 100%;
            animation: shimmer 1.5s ease-in-out;
        }

        /* ========================================
           RESPONSIVE GRID LAYOUT
           ======================================== */
        .desktop-grid {
            display: grid;
            gap: 24px;
        }
        
        .main-column {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .side-column {
            display: none;
        }
        
        /* Balance card */
        .balance-section {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 16px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.04);
        }
        
        /* Sidebar cards (hidden on mobile, shown on desktop) */
        .sidebar-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.04);
        }
        
        .sidebar-card h3 {
            font-size: 16px;
            margin-bottom: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .quick-actions {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .quick-action-btn {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 14px;
            background: var(--bg);
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            text-align: left;
        }
        
        .quick-action-btn:hover {
            background: #E5E5EA;
        }
        
        .quick-action-btn .icon {
            font-size: 18px;
        }
        
        /* Recent activity */
        .activity-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .activity-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: var(--bg);
            border-radius: 10px;
        }
        
        .activity-icon {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }
        
        .activity-icon.green { background: rgba(0, 214, 50, 0.15); }
        .activity-icon.red { background: rgba(255, 59, 48, 0.15); }
        
        .activity-details {
            flex: 1;
        }
        
        .activity-title {
            font-weight: 600;
            font-size: 13px;
        }
        
        .activity-time {
            font-size: 11px;
            color: var(--text-secondary);
        }
        
        .activity-amount {
            font-weight: 600;
            font-size: 13px;
        }
        
        .activity-amount.green { color: var(--green); }
        .activity-amount.red { color: #FF3B30; }
        
        /* ========== TABLET+ (600px) ========== */
        @media (min-width: 600px) {
            .desktop-header {
                padding: 16px 24px;
            }
            
            .header-search {
                display: flex;
                align-items: center;
                gap: 8px;
                padding: 10px 16px;
                background: var(--bg);
                border-radius: 10px;
                color: var(--text-secondary);
                font-size: 14px;
                cursor: pointer;
                min-width: 180px;
            }
            
            .app-container {
                padding: 24px;
            }
            
            .balance-amount {
                font-size: 48px;
            }
            
            .balance-amount .decimal {
                font-size: 36px;
            }
            
            .chart-container {
                height: 350px;
            }
            
            .bottom-nav {
                display: none;
            }
        }
        
        /* ========== DESKTOP (900px+) ========== */
        @media (min-width: 900px) {
            .desktop-header {
                padding: 16px 40px;
            }
            
            .app-container {
                padding: 32px 40px;
            }
            
            .desktop-grid {
                grid-template-columns: 1fr 340px;
                gap: 32px;
            }
            
            .side-column {
                display: flex;
                flex-direction: column;
                gap: 20px;
            }
            
            .balance-amount {
                font-size: 56px;
            }
            
            .balance-amount .decimal {
                font-size: 42px;
            }
            
            .chart-container {
                height: 400px;
            }
            
            .cards-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        /* ========== LARGE DESKTOP (1200px+) ========== */
        @media (min-width: 1200px) {
            .desktop-header {
                padding: 16px 60px;
            }
            
            .app-container {
                padding: 40px 60px;
            }
            
            .desktop-grid {
                grid-template-columns: 1fr 380px;
            }
        }
    </style>
</head>
<body>
    <!-- Desktop Header -->
    <header class="desktop-header">
        <div class="logo">
            <div class="logo-icon">üìà</div>
            Trading
        </div>
        <nav class="desktop-nav">
            <button class="nav-pill active">
                <span class="icon">üè†</span>
                Home
            </button>
            <button class="nav-pill">
                <span class="icon">üî∂</span>
                Perps
            </button>
            <button class="nav-pill">
                <span class="icon">üí∞</span>
                Cash
                <span class="badge">New</span>
            </button>
            <button class="nav-pill">
                <span class="icon">üìä</span>
                Markets
            </button>
            <button class="nav-pill">
                <span class="icon">üîÑ</span>
                Swap
            </button>
        </nav>
        <div class="header-actions">
            <div class="header-search">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="M21 21l-4.35-4.35"></path>
                </svg>
                Search markets...
            </div>
            <button class="header-btn">Add cash</button>
            <div class="user-avatar">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#8E8E93" stroke-width="2">
                    <circle cx="12" cy="8" r="5"></circle>
                    <path d="M20 21a8 8 0 1 0-16 0"></path>
                </svg>
            </div>
        </div>
    </header>

    <div class="app-container">
        <div class="status-bar"></div>
        
        <!-- Mobile Top Navigation -->
        <nav class="top-nav">
            <button class="nav-pill active">
                <span class="icon">üè†</span>
                Home
            </button>
            <button class="nav-pill">
                <span class="icon">üî∂</span>
                Perps
            </button>
            <button class="nav-pill">
                <span class="icon">üí∞</span>
                Cash
                <span class="badge">New</span>
            </button>
            <button class="nav-pill">
                <span class="icon">üìä</span>
                Markets
            </button>
            <button class="nav-pill">
                <span class="icon">üîÑ</span>
                Swap
            </button>
        </nav>
        
        <!-- Mobile Search Section -->
        <div class="search-section">
            <div class="search-bar">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="M21 21l-4.35-4.35"></path>
                </svg>
                Search
            </div>
            <button class="add-cash-btn">Add cash</button>
        </div>
        
        <!-- Desktop Grid Layout -->
        <div class="desktop-grid">
            <div class="main-column">
                <!-- Main Content -->
                <div class="main-content">
                    <!-- Balance Section -->
                    <div class="balance-section animate-in delay-1">
                        <div class="balance-label">BTC/USD ‚Ä¢ Binance Futures</div>
                        <div class="balance-amount">
                            $<span class="balance-dollars">68,856</span><span class="decimal">.<span class="balance-cents">10</span></span>
                        </div>
                        <div class="balance-change">
                            <span class="percent" style="color: #FF3B30;">‚Üì25.8%</span>
                            <span class="period">past 90 days</span>
                        </div>
                    </div>
                    
                    <!-- Highcharts Stock Chart -->
                    <div id="stock-chart" class="chart-container animate-in delay-2"></div>
                    
                    <!-- Time Filters -->
                    <div class="time-filters animate-in delay-3">
                        <button class="time-btn">W</button>
                        <button class="time-btn active">1M</button>
                        <button class="time-btn">1Y</button>
                    </div>
                    
                    <!-- Cards Grid -->
                    <div class="cards-grid">
                        <!-- Market Stats Card -->
                        <div class="cash-card animate-in delay-4">
                            <div class="cash-card-header">
                                <span class="cash-card-title">24h Stats</span>
                                <span class="cash-card-arrow">‚Ä∫</span>
                            </div>
                            <div class="cash-card-amount">$142,454 <span style="font-size: 16px; opacity: 0.8;">vol</span></div>
                            <div class="cash-card-row">
                                <span class="perps-label">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polyline points="22 7 13.5 15.5 8.5 10.5 2 17"></polyline>
                                        <polyline points="16 7 22 7 22 13"></polyline>
                                    </svg>
                                    High / Low
                                </span>
                                <span class="perps-amount">$70,110 / $67,250</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Sidebar (Desktop only) -->
            <div class="side-column">
                <!-- Quick Actions -->
                <div class="sidebar-card">
                    <h3>‚ö° Quick Actions</h3>
                    <div class="quick-actions">
                        <button class="quick-action-btn">
                            <span class="icon">üí≥</span>
                            Deposit funds
                        </button>
                        <button class="quick-action-btn">
                            <span class="icon">üì§</span>
                            Withdraw
                        </button>
                        <button class="quick-action-btn">
                            <span class="icon">üîÑ</span>
                            Swap tokens
                        </button>
                        <button class="quick-action-btn">
                            <span class="icon">üìä</span>
                            Open position
                        </button>
                    </div>
                </div>
                
                <!-- Recent Activity -->
                <div class="sidebar-card">
                    <h3>üìã Recent Activity</h3>
                    <div class="activity-list">
                        <div class="activity-item">
                            <div class="activity-icon green">üìà</div>
                            <div class="activity-details">
                                <div class="activity-title">Long ETH-USD</div>
                                <div class="activity-time">2 hours ago</div>
                            </div>
                            <div class="activity-amount green">+$24.50</div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon green">üí∞</div>
                            <div class="activity-details">
                                <div class="activity-title">Deposit</div>
                                <div class="activity-time">Yesterday</div>
                            </div>
                            <div class="activity-amount green">+$100.00</div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon red">üìâ</div>
                            <div class="activity-details">
                                <div class="activity-title">Short BTC-USD</div>
                                <div class="activity-time">2 days ago</div>
                            </div>
                            <div class="activity-amount red">-$12.30</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Mobile Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-item active">
                <div class="nav-icon-wrapper">
                    <div class="nav-dot"></div>
                    <svg class="nav-icon" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <rect x="3" y="3" width="7" height="7" rx="2"></rect>
                        <rect x="14" y="3" width="7" height="7" rx="2"></rect>
                        <rect x="3" y="14" width="7" height="7" rx="2"></rect>
                        <rect x="14" y="14" width="7" height="7" rx="2"></rect>
                    </svg>
                </div>
                <span class="nav-label">Home</span>
            </button>
            <button class="nav-item">
                <svg class="nav-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <path d="M12 6v6l4 2"></path>
                </svg>
                <span class="nav-label">Positions</span>
            </button>
            <button class="nav-item">
                <svg class="nav-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path>
                    <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path>
                    <path d="M4 22h16"></path>
                    <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"></path>
                    <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"></path>
                    <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"></path>
                </svg>
                <span class="nav-label">Points</span>
            </button>
            <button class="nav-item">
                <svg class="nav-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="8" r="5"></circle>
                    <path d="M20 21a8 8 0 1 0-16 0"></path>
                </svg>
                <span class="nav-label">Account</span>
            </button>
        </nav>
    </div>
    
    <script>
        // Real BTC/USD data from MMT API (Binance Futures, last 90 days)
        const btcOhlcData = [[1763424000000,92540,93400,92539.9,92916.9],[1763510400000,92916.9,92944.8,88564.4,91508.9],[1763596800000,91508.9,93150,86066.6,86601.3],[1763683200000,86601.3,87465.4,80600,85093.5],[1763769600000,85093.5,85599.9,83456,84689.4],[1763856000000,84689.4,88100,84622,86807.7],[1763942400000,86807.7,89177.3,85226.4,88247.1],[1764028800000,88247.1,88477.6,86061.1,87324.1],[1764115200000,87324.1,90655.4,86260.9,90438.1],[1764201600000,90438.1,91931.9,90024.4,91292.2],[1764288000000,91292.2,93080,90155,90847.8],[1764374400000,90847.8,91130,90092.7,90765],[1764460800000,90765,91934.4,90300,90320.6],[1764547200000,90320.6,90396.9,83786,86241.6],[1764633600000,86241.6,92273.2,86140.1,91249.1],[1764720000000,91249.1,94185,90954.8,93376.7],[1764806400000,93376.7,94040,90822.5,92034.7],[1764892800000,92034.7,92665.5,87976.3,89288.5],[1764979200000,89288.5,90257.3,88870.1,89197.1],[1765065600000,89197.1,91722,87688,90345.4],[1765152000000,90345.4,92262.6,89553.8,90610.8],[1765238400000,90610.8,94555,89368.9,92638.4],[1765324800000,92638.4,94443.7,91520,91977.5],[1765411200000,91977.5,93547.3,89200,92477.5],[1765497600000,92477.5,92719,89429,90229.6],[1765584000000,90229.6,90599,89711.9,90191.3],[1765670400000,90191.3,90440,87504.3,88118.8],[1765756800000,88118.8,89972.4,85073,86389.9],[1765843200000,86389.9,88143.9,85226,87826.3],[1765929600000,87826.3,90363.2,85261.3,86201.6],[1766016000000,86201.6,89447.9,84408.6,85469.7],[1766102400000,85469.7,89374.6,85062.7,88100],[1766188800000,88100,88551.8,87698.5,88320.8],[1766275200000,88320.8,89050,87548.5,88621.3],[1766361600000,88621.3,90599,87845,88581.5],[1766448000000,88581.5,88904.9,86536,87463],[1766534400000,87463,88033.3,86355,87627.3],[1766620800000,87627.3,88594,86902.1,87182.8],[1766707200000,87182.8,89557.6,86619.9,87318.2],[1766793600000,87318.2,87956.9,87203,87829.4],[1766880000000,87829.4,88078.3,87402.6,87920.5],[1766966400000,87920.5,90373.4,86760,87203.3],[1767052800000,87203.3,89355,86789,88455.3],[1767139200000,88455.3,89192.8,87189.2,87608.2],[1767225600000,87608.2,88881.4,87508.4,88800],[1767312000000,88800,90945.1,88324.4,89951.4],[1767398400000,89951.4,90716.9,89261.2,90595.8],[1767484800000,90595.8,91779.7,90595.7,91497.1],[1767571200000,91497.1,94760.3,91476.5,93822.4],[1767657600000,93822.4,94415.4,91209,93708],[1767744000000,93708,93708.1,90634.1,91328],[1767830400000,91328,91666,89242,91059.8],[1767916800000,91059.8,91999,89632.8,90585],[1768003200000,90603.7,90800,90351.6,90469.7],[1768089600000,90469.7,91252.5,90175.3,90964.4],[1768176000000,90964.4,92488,90066,91252.6],[1768262400000,91252.6,96863.7,91011,95375.2],[1768348800000,95375.2,97932.1,94413.4,96907.9],[1768435200000,96907.9,97155,95080,95567.3],[1768521600000,95554.4,95825,94234.5,95503.7],[1768608000000,95503.7,95621.9,94977.5,95108],[1768694400000,95108,95490,93550.3,93614],[1768780800000,93614,93614.1,91800,92589.7],[1768867200000,92589.7,92845,87787.2,88390.6],[1768953600000,88390.6,90599.5,87205.5,89411.4],[1769040000000,89411.4,90327.7,88465.6,89518.5],[1769126400000,89518.5,91195,88530,89558.8],[1769212800000,89558.8,89893.9,89116.9,89180.7],[1769299200000,89180.7,89281.6,86021.7,86628.8],[1769385600000,86628.8,88834.1,86463.2,88300.7],[1769472000000,88300.7,89499,87265.4,89197.8],[1769558400000,89197.8,90592.7,88786,89261.7],[1769644800000,89261.7,89316.8,83338.3,84604.7],[1769731200000,84604.7,84697.2,81000,84211.4],[1769817600000,84211.4,84239.5,75500,78706.8],[1769904000000,78706.8,79396.8,75644,76931.6],[1769990400000,76931.6,79311,74555,78692.5],[1770076800000,78692.5,79163,72889.2,75732.3],[1770163200000,75732.3,76952.5,71838,73137.8],[1770249600000,73137.8,73316.3,62233.3,62868.2],[1770336000000,62868.2,71714.4,59800,70544.4],[1770422400000,70544.4,71690,67250,69254.2],[1770508800000,69254.2,72300,68843.7,70288.1],[1770595200000,70288.1,71434.9,68271.7,70145.9],[1770681600000,70110.6,70499.9,67883,68805.3],[1770768000000,68805.3,69262.7,65718.5,67048.6],[1770854400000,67048.6,68385,65081,66243.2],[1770940800000,66243.2,69473.7,65833.9,68821.5],[1771027200000,68821.5,70557.7,68689.1,69795.3],[1771113600000,69795.3,70938.5,68029.6,68798.5],[1771200000000,68798.5,70110.9,67250,68856.1]];
        const btcVolumeData = [[1763424000000,6622],[1763510400000,226438],[1763596800000,276513],[1763683200000,449804],[1763769600000,94197],[1763856000000,138930],[1763942400000,211113],[1764028800000,149637],[1764115200000,159146],[1764201600000,113685],[1764288000000,146920],[1764374400000,54196],[1764460800000,66139],[1764547200000,296847],[1764633600000,228101],[1764720000000,201298],[1764806400000,146772],[1764892800000,179125],[1764979200000,56826],[1765065600000,129592],[1765152000000,152474],[1765238400000,181930],[1765324800000,160488],[1765411200000,191148],[1765497600000,144844],[1765584000000,36237],[1765670400000,92086],[1765756800000,194216],[1765843200000,142225],[1765929600000,208646],[1766016000000,229573],[1766102400000,178284],[1766188800000,35973],[1766275200000,67624],[1766361600000,154693],[1766448000000,133657],[1766534400000,81543],[1766620800000,57796],[1766707200000,149971],[1766793600000,27294],[1766880000000,37359],[1766966400000,190004],[1767052800000,126745],[1767139200000,96768],[1767225600000,47941],[1767312000000,176662],[1767398400000,56891],[1767484800000,73773],[1767571200000,189416],[1767657600000,187443],[1767744000000,148986],[1767830400000,168475],[1767916800000,140383],[1768003200000,25140],[1768089600000,43430],[1768176000000,168130],[1768262400000,199315],[1768348800000,181427],[1768435200000,148697],[1768521600000,100905],[1768608000000,38905],[1768694400000,62463],[1768780800000,107979],[1768867200000,187575],[1768953600000,207619],[1769040000000,105510],[1769126400000,124213],[1769212800000,30657],[1769299200000,124632],[1769385600000,134156],[1769472000000,117712],[1769558400000,123514],[1769644800000,226121],[1769731200000,253878],[1769817600000,268978],[1769904000000,186642],[1769990400000,259117],[1770076800000,306968],[1770163200000,292452],[1770249600000,668631],[1770336000000,556634],[1770422400000,259771],[1770508800000,161035],[1770595200000,221424],[1770681600000,183026],[1770768000000,256131],[1770854400000,199441],[1770940800000,181954],[1771027200000,113998],[1771113600000,150926],[1771200000000,142454]];
        
        // Initialize Highcharts Stock
        document.addEventListener('DOMContentLoaded', function() {
            const ohlcData = btcOhlcData;
            const volumeData = btcVolumeData;
            
            Highcharts.setOptions({
                chart: {
                    style: {
                        fontFamily: '-apple-system, BlinkMacSystemFont, "SF Pro Display", "Segoe UI", Roboto, sans-serif'
                    }
                }
            });
            
            Highcharts.stockChart('stock-chart', {
                chart: {
                    backgroundColor: 'transparent',
                    spacing: [10, 10, 10, 10]
                },
                
                credits: { enabled: false },
                exporting: { enabled: false },
                
                rangeSelector: {
                    enabled: false
                },
                
                navigator: {
                    enabled: false
                },
                
                scrollbar: {
                    enabled: false
                },
                
                title: {
                    text: ''
                },
                
                xAxis: {
                    lineColor: '#E5E5EA',
                    tickColor: '#E5E5EA',
                    labels: {
                        style: { color: '#8E8E93', fontSize: '11px' }
                    },
                    crosshair: {
                        color: '#E5E5EA',
                        dashStyle: 'Dash'
                    }
                },
                
                yAxis: [{
                    height: '75%',
                    lineWidth: 0,
                    gridLineColor: '#F2F2F7',
                    labels: {
                        align: 'right',
                        x: -5,
                        style: { color: '#8E8E93', fontSize: '11px' },
                        formatter: function() {
                            return '$' + this.value.toFixed(0);
                        }
                    },
                    crosshair: {
                        color: '#E5E5EA',
                        dashStyle: 'Dash'
                    }
                }, {
                    top: '80%',
                    height: '20%',
                    offset: 0,
                    lineWidth: 0,
                    gridLineWidth: 0,
                    labels: { enabled: false }
                }],
                
                tooltip: {
                    backgroundColor: '#000',
                    borderWidth: 0,
                    borderRadius: 8,
                    shadow: false,
                    style: {
                        color: '#fff',
                        fontSize: '12px'
                    },
                    split: false,
                    shared: true,
                    formatter: function() {
                        const point = this.points[0].point;
                        return `<b>${Highcharts.dateFormat('%b %e, %Y', this.x)}</b><br/>
                            O: $${point.open.toFixed(2)}<br/>
                            H: $${point.high.toFixed(2)}<br/>
                            L: $${point.low.toFixed(2)}<br/>
                            C: $${point.close.toFixed(2)}`;
                    }
                },
                
                plotOptions: {
                    candlestick: {
                        color: '#FF3B30',
                        upColor: '#00D632',
                        lineColor: '#FF3B30',
                        upLineColor: '#00D632',
                        pointPadding: 0.1,
                        groupPadding: 0.1
                    },
                    column: {
                        borderWidth: 0,
                        borderRadius: 2
                    }
                },
                
                series: [{
                    type: 'candlestick',
                    name: 'BTC/USD',
                    data: ohlcData,
                    tooltip: {
                        valueDecimals: 2,
                        valuePrefix: '$'
                    }
                }, {
                    type: 'column',
                    name: 'Volume',
                    data: volumeData,
                    yAxis: 1,
                    color: 'rgba(0, 214, 50, 0.3)',
                    tooltip: {
                        valueDecimals: 0,
                        valueSuffix: ' BTC'
                    }
                }]
            });
        });
        
        // Animate balance on load
        function animateValue(element, start, end, duration) {
            const range = end - start;
            const startTime = performance.now();
            
            function update(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const easeOut = 1 - Math.pow(1 - progress, 3);
                const current = start + (range * easeOut);
                element.textContent = Math.floor(current);
                
                if (progress < 1) {
                    requestAnimationFrame(update);
                }
            }
            
            requestAnimationFrame(update);
        }
        
        // Get latest BTC price from data
        const latestPrice = btcOhlcData[btcOhlcData.length - 1][4];
        const firstPrice = btcOhlcData[0][1];
        const priceChange = ((latestPrice - firstPrice) / firstPrice * 100).toFixed(1);
        
        // Update price display on load
        window.addEventListener('load', () => {
            const priceStr = latestPrice.toFixed(2);
            const [dollars, cents] = priceStr.split('.');
            document.querySelector('.balance-dollars').textContent = Number(dollars).toLocaleString();
            document.querySelector('.balance-cents').textContent = cents;
            
            // Update change indicator
            const changeEl = document.querySelector('.balance-change .percent');
            if (priceChange >= 0) {
                changeEl.style.color = '#00D632';
                changeEl.textContent = `‚Üë${priceChange}%`;
            } else {
                changeEl.style.color = '#FF3B30';
                changeEl.textContent = `‚Üì${Math.abs(priceChange)}%`;
            }
        });
        
        // Tab switching (both mobile and desktop)
        document.querySelectorAll('.nav-pill').forEach(pill => {
            pill.addEventListener('click', () => {
                document.querySelectorAll('.nav-pill').forEach(p => p.classList.remove('active'));
                pill.classList.add('active');
            });
        });
        
        // Time filter switching
        document.querySelectorAll('.time-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.time-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
            });
        });
        
        // Bottom nav switching
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', () => {
                document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                item.classList.add('active');
            });
        });
        
        // Card shimmer on click
        document.querySelectorAll('.cash-card').forEach(card => {
            card.addEventListener('click', () => {
                card.classList.add('shimmer');
                setTimeout(() => card.classList.remove('shimmer'), 1500);
            });
        });
        
        // Pull to refresh simulation (mobile only)
        let startY = 0;
        let pulling = false;
        
        document.addEventListener('touchstart', (e) => {
            if (window.scrollY === 0) {
                startY = e.touches[0].pageY;
                pulling = true;
            }
        });
        
        document.addEventListener('touchmove', (e) => {
            if (pulling && e.touches[0].pageY - startY > 100) {
                document.querySelector('.balance-section').style.transform = 'translateY(10px)';
            }
        });
        
        document.addEventListener('touchend', () => {
            if (pulling) {
                pulling = false;
                document.querySelector('.balance-section').style.transform = '';
            }
        });
    </script>
</body>
</html>
